# ุฑุงูููุง ูุฑูโูุง ูุจุชู ุจุฑ ุชุตูุฑ

## ๐ ุฎูุงุตู

ุงู ูุงุจูุช ุฌุฏุฏ ุจู ุณุณุชู Flask ุดูุง ุงูฺฉุงู ุงุฌุงุฏ ูุฑูโูุง ูุจุชู ุจุฑ ุชุตูุฑ ุฑุง ูโุฏูุฏ. ูุฏุฑุงู ูโุชูุงููุฏ ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ Google Docsุ ุชุตุงูุฑ (JPG/PNG) ุขูพููุฏ ฺฉุฑุฏู ู ุฑู ุขูโูุง ูุฑู ุทุฑุงุญ ฺฉููุฏ.

## โจ ูฺฺฏโูุง ุฌุฏุฏ

### 1. ุงูุชุฎุงุจ ููุน ูุฑู
- **Google Docs**: ููุงู ุฑูุด ูุจู
- **ุชุตูุฑ (JPG/PNG)**: ุฑูุด ุฌุฏุฏ ูุจุชู ุจุฑ ุชุตูุฑ

### 2. ุทุฑุงุญ ูุฑู ุฑู ุชุตูุฑ
- ุขูพููุฏ ุชุตูุฑ ุจุง ูพุดุชุจุงู ุงุฒ ูุฑูุชโูุง JPG ู PNG
- ุงูุชุฎุงุจ ุงูุฏุงุฒู ุตูุญู (A4ุ A5ุ ุง ุงูุฏุงุฒู ุงุตู ุชุตูุฑ)
- ุทุฑุงุญ ุชฺฉุณุชโุจุงฺฉุณโูุง ุฑู ุชุตูุฑ ุจุง HTML5 Canvas
- ุชูุธู ูููุชุ ุงูุฏุงุฒู ู ุฑูฺฏ ูุชู
- ุงุชุตุงู ุชฺฉุณุชโุจุงฺฉุณโูุง ุจู ููุฏูุง ูุฑู

### 3. ุชููุฏ PDF
- ุชููุฏ PDF ุจุง ฺฉูุช ุจุงูุง ุงุฒ ุชุตูุฑ + ูุชูโูุง ฺฉุงุฑุจุฑ
- ูพุดุชุจุงู ุงุฒ ูููุชโูุง ูุงุฑุณ
- ุชูุธู ุงูุฏุงุฒู ุตูุญู

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
pip install -r requirements.txt
```

### 2. ุงุฌุฑุง ูุงฺฏุฑุดู
```bash
python migrate_image_forms.py
```

### 3. ุชุณุช ุนููฺฉุฑุฏ
```bash
python test_image_forms.py
```

## ๐ ูุญูู ุงุณุชูุงุฏู

### ูุฑุญูู 1: ุงุฌุงุฏ ุฎุฏูุช ุฌุฏุฏ
1. ุจู ุจุฎุด "ุงุฌุงุฏ ุฎุฏูุช ุฌุฏุฏ" ุจุฑูุฏ
2. ููุน ูุฑู ุฑุง "ุชุตูุฑ (JPG/PNG)" ุงูุชุฎุงุจ ฺฉูุฏ
3. ุชุตูุฑ ููุฑุฏ ูุธุฑ ุฑุง ุขูพููุฏ ฺฉูุฏ
4. ุงูุฏุงุฒู ุตูุญู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ุฎุฏูุช ุฑุง ุงุฌุงุฏ ฺฉูุฏ

### ูุฑุญูู 2: ุทุฑุงุญ ูุฑู
1. ุฑู ุฏฺฉูู "ุทุฑุงุญ" ฺฉูฺฉ ฺฉูุฏ
2. ุฏุฑ ุตูุญู ุทุฑุงุญ:
   - ุฑู ุชุตูุฑ ฺฉูฺฉ ู ุจฺฉุดุฏ ุชุง ุชฺฉุณุชโุจุงฺฉุณ ุงุฌุงุฏ ุดูุฏ
   - ุชฺฉุณุชโุจุงฺฉุณ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - ุฏุฑ ูพูู ุณูุช ุฑุงุณุช ุชูุธูุงุช ุฑุง ุชุบุฑ ุฏูุฏ:
     - ูุชู ููุงุด
     - ุงุชุตุงู ุจู ููุฏ
     - ูููุช ู ุงูุฏุงุฒู
     - ุฑูฺฏ
     - ูููุนุช ู ุงูุฏุงุฒู
3. ุทุฑุงุญ ุฑุง ุฐุฎุฑู ฺฉูุฏ

### ูุฑุญูู 3: ุชุนุฑู ููุฏูุง
1. ุฑู ุฏฺฉูู "ููุฏูุง" ฺฉูฺฉ ฺฉูุฏ
2. ุจุฑุง ูุฑ ุชฺฉุณุชโุจุงฺฉุณุ ููุฏ ูุฑุจูุทู ุฑุง ุชุนุฑู ฺฉูุฏ:
   - ุจุฑฺุณุจ ููุฏ
   - ูุงู ููุฏ (ุงูฺฏูุณ)
   - ููุน ููุฏ
   - ุงุฌุจุงุฑ ุจูุฏู
   - ูุชู ุฑุงูููุง
   - ุฌุงฺฏุฒู ุฏุฑ ุทุฑุงุญ

### ูุฑุญูู 4: ุชุณุช ู ุงุณุชูุงุฏู
1. ุฎุฏูุช ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช
2. ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ูุฑู ุฑุง ูพุฑ ฺฉููุฏ
3. PDF ุจุง ูุชูโูุง ฺฉุงุฑุจุฑ ุฑู ุชุตูุฑ ุชููุฏ ูโุดูุฏ

## ๐๏ธ ุณุงุฎุชุงุฑ ูุงูโูุง

### ูุงูโูุง ุฌุฏุฏ
- `image_pdf_generator.py`: ุชููุฏ PDF ุงุฒ ุชุตูุฑ
- `migrate_image_forms.py`: ูุงฺฏุฑุดู ุฏุชุงุจุณ
- `test_image_forms.py`: ุชุณุช ุนููฺฉุฑุฏ
- `templates/admin/design_image_form.html`: ุตูุญู ุทุฑุงุญ ูุฑู
- `templates/admin/edit_image_form_fields.html`: ุตูุญู ุชุนุฑู ููุฏูุง

### ูุงูโูุง ุชุบุฑ ุงูุชู
- `models.py`: ุงุถุงูู ุดุฏู ููุฏูุง ุฌุฏุฏ ุจู ูุฏู Service
- `forms.py`: ุงุถุงูู ุดุฏู ูุฑูโูุง ุฌุฏุฏ
- `app.py`: ุงุถุงูู ุดุฏู route ูุง ุฌุฏุฏ
- `templates/admin/create_service.html`: ูพุดุชุจุงู ุงุฒ ุงูุชุฎุงุจ ููุน ูุฑู
- `templates/admin/dashboard.html`: ููุงุด ููุน ูุฑู

## ๐ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

### ุฌุฏูู services - ููุฏูุง ุฌุฏุฏ
```sql
ALTER TABLE services ADD COLUMN form_type VARCHAR(20) DEFAULT 'google_doc';
ALTER TABLE services ADD COLUMN image_path VARCHAR(500);
ALTER TABLE services ADD COLUMN form_design_data TEXT;
ALTER TABLE services ADD COLUMN page_size VARCHAR(10) DEFAULT 'A4';
```

### ุชูุถุญ ููุฏูุง
- `form_type`: ููุน ูุฑู ('google_doc' ุง 'image')
- `image_path`: ูุณุฑ ูุงู ุชุตูุฑ ุขูพููุฏ ุดุฏู
- `form_design_data`: ุฏุงุฏูโูุง ุทุฑุงุญ ูุฑู (JSON)
- `page_size`: ุงูุฏุงุฒู ุตูุญู ('A4', 'A5', 'original')

## ๐จ ูุฑูุช ุฏุงุฏูโูุง ุทุฑุงุญ

```json
{
  "textboxes": [
    {
      "id": 1,
      "x": 100,
      "y": 100,
      "width": 200,
      "height": 30,
      "label": "ูุงู ู ูุงู ุฎุงููุงุฏฺฏ",
      "field": "name",
      "font": "Arial",
      "size": 14,
      "color": "#000000"
    }
  ],
  "canvasWidth": 800,
  "canvasHeight": 600,
  "pageSize": "A4"
}
```

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ูููุชโูุง ูพุดุชุจุงู ุดุฏู
- Arial
- Times New Roman
- Courier New
- Tahoma
- B Nazanin
- B Titr
- Vazirmatn

### ุงูุฏุงุฒูโูุง ุตูุญู
- A4 (595 ร 842 points)
- A5 (420 ร 595 points)
- Original (ุงูุฏุงุฒู ุงุตู ุชุตูุฑ)

## ๐งช ุชุณุช

### ุงุฌุฑุง ุชุณุชโูุง
```bash
python test_image_forms.py
```

### ุชุณุชโูุง ููุฌูุฏ
1. **ุชุณุช ุชููุฏ PDF**: ุจุฑุฑุณ ุชููุฏ PDF ุงุฒ ุชุตูุฑ
2. **ุชุณุช ูุฏู ุฏุชุงุจุณ**: ุจุฑุฑุณ ุฐุฎุฑู ู ุจุงุฒุงุจ ุฏุงุฏูโูุง
3. **ุชุณุช ุงุฌุงุฏ ูุฑู**: ุจุฑุฑุณ ุงุฌุงุฏ ฺฉุงูู ูุฑู

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

#### 1. ุฎุทุง ุฏุฑ ุขูพููุฏ ุชุตูุฑ
- ุจุฑุฑุณ ูุฌูุฒูุง ูพูุดู `static/uploads/images`
- ุจุฑุฑุณ ุงูุฏุงุฒู ูุงู (ุญุฏุงฺฉุซุฑ 10MB)
- ุจุฑุฑุณ ูุฑูุช ูุงู (ููุท JPG/PNG)

#### 2. ุฎุทุง ุฏุฑ ุชููุฏ PDF
- ุจุฑุฑุณ ูุตุจ Pillow: `pip install Pillow`
- ุจุฑุฑุณ ูุฌูุฏ ูููุชโูุง ุฏุฑ ูพูุดู `fonts`
- ุจุฑุฑุณ ูุฌูุฒูุง ูพูุดู ุฎุฑูุฌ PDF

#### 3. ุฎุทุง ุฏุฑ ุทุฑุงุญ ูุฑู
- ุจุฑุฑุณ ูุตุจ JavaScript ุฏุฑ ูุฑูุฑฺฏุฑ
- ุจุฑุฑุณ ุงุชุตุงู ุงูุชุฑูุช ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ุชุตูุฑ
- ูพุงฺฉ ฺฉุฑุฏู ฺฉุด ูุฑูุฑฺฏุฑ

### ูุงฺฏโูุง
ูุงฺฏโูุง ุณุณุชู ุฏุฑ ูุงูโูุง ุฒุฑ ูุงุจู ูุดุงูุฏู ุงุณุช:
- ุฎุทุงูุง PDF: `app.logger.error()`
- ุฎุทุงูุง ุขูพููุฏ: `app.logger.warning()`
- ุงุทูุงุนุงุช ุนููู: `app.logger.info()`

## ๐ ูุงฺฏุฑุดู ุงุฒ ูุณุฎู ูุจู

### ูุฑุญูู 1: ูพุดุชุจุงูโฺฏุฑ
```bash
# ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุฏุชุงุจุณ
sqlite3 app.db ".backup backup_before_migration.db"
```

### ูุฑุญูู 2: ุงุฌุฑุง ูุงฺฏุฑุดู
```bash
python migrate_image_forms.py
```

### ูุฑุญูู 3: ุจุฑุฑุณ
```bash
python test_image_forms.py
```

## ๐ ุนููฺฉุฑุฏ

### ุจูููโุณุงุฒโูุง
- ุงุณุชูุงุฏู ุงุฒ PIL ุจุฑุง ูพุฑุฏุงุฒุด ุชุตูุฑ
- ฺฉุด ฺฉุฑุฏู ูููุชโูุง
- ูุดุฑุฏูโุณุงุฒ ุชุตุงูุฑ
- ุชููุฏ PDF ุจููู

### ูุญุฏูุฏุชโูุง
- ุญุฏุงฺฉุซุฑ ุงูุฏุงุฒู ูุงู: 10MB
- ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู: JPG, PNG
- ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ุชฺฉุณุชโุจุงฺฉุณ: ูุงูุญุฏูุฏ (ุชูุตู: ฺฉูุชุฑ ุงุฒ 50)

## ๐ฎ ุชูุณุนูโูุง ุขูุฏู

### ูุงุจูุชโูุง ูพุดููุงุฏ
- ูพุดุชุจุงู ุงุฒ ูุฑูุชโูุง ุชุตูุฑ ุจุดุชุฑ (GIF, BMP)
- ุงุจุฒุงุฑูุง ุทุฑุงุญ ูพุดุฑูุชู (ุฎุทุ ุดฺฉูุ ุชุตูุฑ)
- ูุงูุจโูุง ุขูุงุฏู
- ูุฑุงุดฺฏุฑ WYSIWYG
- ูพุดุชุจุงู ุงุฒ ฺูุฏู ุตูุญู

### API ูุง ุฌุฏุฏ
- `/api/design/save`: ุฐุฎุฑู ุทุฑุงุญ
- `/api/design/load`: ุจุงุฑฺฏุฐุงุฑ ุทุฑุงุญ
- `/api/image/upload`: ุขูพููุฏ ุชุตูุฑ
- `/api/pdf/generate`: ุชููุฏ PDF

## ๐ ูพุดุชุจุงู

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ุฏุฑุฎูุงุณุช ูฺฺฏโูุง ุฌุฏุฏ:
1. ุจุฑุฑุณ ุจุฎุด ุนุจโุงุจ
2. ุงุฌุฑุง ุชุณุชโูุง
3. ุจุฑุฑุณ ูุงฺฏโูุง ุณุณุชู
4. ุชูุงุณ ุจุง ุชู ุชูุณุนู

---

**ูฺฉุชู**: ุงู ูุงุจูุช ุจุง ุณุณุชู ููุฌูุฏ ฺฉุงููุงู ุณุงุฒฺฏุงุฑ ุงุณุช ู ุชุฃุซุฑ ุจุฑ ุนููฺฉุฑุฏ Google Docs ูุฏุงุฑุฏ.